import android.content.DialogInterface;\nimport android.support.v7.app.AlertDialog;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n    }\n\n    //following method is automatically called when back button is pressed\n    @Override\n    public void onBackPressed() {\n        showAlertDialog();\n    }\n\n    private void showAlertDialog() {\n        //init alert dialog\n        final AlertDialog.Builder builder =  new AlertDialog.Builder(this);\n        builder.setCancelable(false);\n        builder.setTitle(\"Exit\");\n        builder.setMessage(\"Are you sure you want to leave?\");\n        //set listeners for dialog buttons\n        builder.setPositiveButton(\"YES\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                //finish the activity\n                finish();\n            }\n        });\n\n        builder.setNegativeButton(\"NO\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                //dialog gone\n                dialog.dismiss();\n            }\n        });\n\n        //create the alert dialog and show it\n        builder.create().show();\n    }\n}\n